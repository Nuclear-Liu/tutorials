# 随机函数

## [`Math.random()`](./../../../test/java/org/hui/dsaa/jdk/RandomTests.java)

`Math.random()` 等概率返回 `double` 类型的随机值 `[0, 1)` ；


* `random() * N` ∈  `[0, N)` 等概率 `[0, N)` 浮点数

* `(int)(random() * N)` ∈  `[0, N-1]` 等概率 `[0, N-1]` 正整数

* 对于任意 `x` ∈ `[0, 1)` 在 `[0, x]` 概率 `p = x^2`

  两次独立调用都是 p 所以取 max 保证每次都要符合 `[0, x)` 范围内；

  `min` 每次调用不是范围内为不属于 `[0, x)` 概率 `(1-x)*(1-x)` ，所以概率为 `1 - (1 - x)^2`

## [从 `1 ~ 5` （整数）随机到 `1 ~ 7` （整数）随机](./../../../test/java/org/hui/dsaa/jdk/Random2Tests.java)


* `f()` ∈ `[1, 5]` 等概率结果；将 `f()` 转换成 `0` `1` 等概率发生器； 
  * `f() < 3` : `0`;
  * `f() = 3` : `f()`;(继续调用 `f()` )
  * `f() >3` : `1`;
  
* 利用二进制，将获取 `[0 ~6]` 需要三个二进制位；每个二进制位相互独立，所以 `[0 ~7]` 等待率；

* `[0, 7]` 等概率，当未 `0` 继续掉用自己知道得到的不是 `0` ，或者将 `[0,7] + 1` 得到 `[1,8]` ，当结果为 `8` 继续调用；


## 从 `a ~ b` （整数）随机到 `c ~ d` （整数）随机

* 转换成 01 发生器；
* 利用二进制位相互独立得到 `[0, 2^N-1]` 等概率， 转换成 `[c,d]` 等概率；

## [`0 ~ 1` 不等概率到 `0 ~ 1` 等概率](./../../../test/java/org/hui/dsaa/jdk/Random3Tests.java)


* `[0,1]` 不等概率转换为 `[0, 1]` 等概率发生器，利用两个二进制位，只有两位各不相同， `P([0,1]) = P([1,0])` 其他情况丢弃
* 利用二进制位转换成 `[0, 2^N-1]` 等概率，去除多余数据结果，平移结果到区间 `[c, d]` ；


## 对数器
